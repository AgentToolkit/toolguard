{"policies": [{"policy_name": "Explicit User Confirmation Required", "description": "Before using ToolX for reservation updates including flights, baggage, cabin class, or passenger information, ensure you present all action details to the user in a clear manner and receive their explicit confirmation (yes) to proceed. Compliance cannot be pre-validated by ToolX; it requires interaction history to confirm user consent.", "references": ["Before taking any actions that update the booking database (booking, modifying flights, editing baggage, upgrading cabin class, or updating passenger information), you must list the action details and obtain explicit user confirmation (yes) to proceed."], "violating_examples": ["An agent updates the flight details of a reservation without asking the user for confirmation, proceeding with changes based on assumed preferences, which violates the requirement for explicit user consent.", "The system automatically applies updates to the reservation based on recent user activity without presenting details or receiving explicit confirmation, failing to adhere to the explicit confirmation policy.", "Updates to the cabin class and passenger information are executed without the user explicitly saying 'yes', after merely highlighting them, leading to non-compliance with the explicit consent requirement.", "A reservation update is initiated after receiving implicit consent from phrases like 'okay' or 'sounds good', rather than a clear 'yes', which does not meet the policy's explicit confirmation standard.", "The system pre-fills all updates regarding flights and baggage but does not prompt the user for confirmation before finalizing, violating the policy's demand for explicit consent."], "compliance_examples": ["The agent presents the updated flight itinerary, cabin class changes, and passenger adjustments in detail and waits for the user to reply 'yes' before proceeding, ensuring compliance with the required user confirmation.", "User interaction history reveals explicit verbal confirmation ('yes') after presenting action details via email, allowing the update_reservation_flights tool to proceed in accordance with policy.", "Before confirming flight changes, the system shows a summary detailing new flight segments and asks, 'Do you confirm?' The user responds with 'yes', thereby validating the action and meeting the explicit consent requirement.", "Flight changes are sent to the user's registered email address with clear action details, and the system waits until the user replies 'yes' before executing any update, ensuring compliance with the policy.", "A detailed list of updates, including flight, baggage, and cabin class changes, is shown to the user during a live chat, and the agent proceeds only after a clear 'yes' from the user, validating adherence to the explicit confirmation policy."]}, {"policy_name": "Cannot Modify Basic Economy Flights", "description": "Basic economy flights in a reservation cannot be modified at all. For reservations that are not classified as basic economy, modifications are allowed but must not change the origin, destination, or trip type. It is critical for agents to verify this before invoking the update_reservation_flights tool.", "references": ["<p>Change flights: Basic economy flights cannot be modified.</p>", "<p>Change flights: Basic economy flights cannot be modified. Other reservations can be modified without changing the origin, destination, and trip type.</p>"], "violating_examples": ["A user attempts to change a reservation with basic economy flights by providing a new itinerary with updated origin and destination details, violating the restriction on modifying basic economy flights.", "An agent tries to update a basic economy flight reservation by changing the cabin class from 'basic_economy' to 'economy', which violates the policy against altering basic economy reservations.", "A user requests modifying a reservation classified as basic economy by supplying an edited flight array containing different departure times, going against the policy of non-modification for basic economy.", "A user tries to adjust the basic economy flight itinerary by requesting a new connecting flight option instead of their direct flight, contravening the reservation policy.", "An agent attempts to update a reservation classified as 'economy' by changing the trip type from 'round_trip' to 'one_way', which violates the policy of maintaining trip type for non-basic reservations.", "A user submits a request to change the flights in a business class reservation by altering the destination from 'SFO' to 'NYC', breaking the rule against changing destinations in non-basic reservations."], "compliance_examples": ["An agent successfully updates a 'business' reservation by changing the flight times, keeping the same origin 'SFO' and destination 'JFK' without altering the trip type from 'round_trip', ensuring compliance with the policy.", "A user with a 'business' class reservation updates the cabin class and flight numbers, ensuring the original origin and destination IATA codes 'ORD' and 'LAX' remain unchanged, thus complying with reservation policies.", "A user successfully modifies their 'economy' reservation by adding a special meal preference, while preserving all other flight details including origin and trip type, adhering to policy guidelines.", "An agent updates a 'business' class reservation, adding another layover in the flight segments but maintaining the original itinerary's origin 'ATL', destination 'HNL', and 'round_trip' type, in line with the policy.", "An agent processes an update for an economy reservation by adding extra baggage allowance, ensuring the flight itinerary remains intact with the original destination 'BOS' and trip type 'round_trip', fulfilling the policy requirements.", "A user successfully modifies an economy reservation by adding a preferred seating option, while ensuring the origin, destination, and trip type 'one_way' remain unchanged, complying with the policy."]}, {"policy_name": "Cabin Change Payment Requirement", "description": "ToolX can be used to modify a reservation's cabin class. Ensure a uniform cabin class change across all flights within the reservation. Make sure the user pays the fare difference between the current cabin class and the new cabin class for the entire reservation as partial changes are disallowed.", "references": ["Change cabin: all reservations, including basic economy, can change cabin without changing the flights. Cabin changes require the user to pay for the difference between their current cabin and the new cabin class. Cabin class must be the same across all the flights in the same reservation; changing cabin for just one flight segment is not possible."], "violating_examples": ["A user attempts to change only one segment of their reservation from economy to business class without updating the cabin class for the entire reservation, violating the required uniform cabin change.", "A user updates their reservation to have mixed cabin classes, changing one flight to economy and another to business class within the same reservation, which breaks the policy mandating uniform cabin class across all flights.", "A user changes their entire reservation from basic economy to business class but only provides payment that covers the difference for a single flight segment, not fulfilling the policy requirement for covering the fare difference for the entire reservation.", "A user attempts to change their reservation's cabin class from economy to premium economy for all flights but incorrectly inputs payment that covers a partial fare difference, resulting in insufficient payment for the full reservation change.", "A user tries to change the cabin class for certain flight segments without updating all flights in the reservation, resulting in an inconsistent cabin class within the reservation.", "A user tries to change the entire reservation to business class but their payment method is actually a gift card with a balance insufficient to cover the necessary fare difference, violating payment requirement policies.", "A user updates their reservation's cabin class across multiple flights but improperly inputs payment details, leading to a request that lacks coverage for every part of the cabin fare change."], "compliance_examples": ["A user changes the entire reservation's cabin class from economy to business, ensuring all flight segments are included in the updated reservation request and provides payment details to cover the fare difference, fully complying with the policy.", "A user updates all flight segments of their reservation from basic economy to economy class, ensuring the cabin class is uniformly changed across the entire reservation and pays the required fare difference, adhering to policy requirements.", "The user modifies their reservation to change all flight segments from economy to first class and provides necessary payment methods to cover the new cabin class fare difference, ensuring full compliance.", "A user updates all flight segments from first class to business class, providing their credit card details that have sufficient funds to cover the fare reduction difference for all segments in their reservation.", "A user requests a cabin change for their reservation, ensuring all flight segments are updated from premium economy to economy class and provides a payment method with a sufficient balance to cover the reduced fare difference, meeting policy standards."]}, {"policy_name": "Cabin Uniformity Requirement", "description": "Cabin class must be the same across all flights in a reservation.", "references": ["Change cabin: all reservations, including basic economy, can change cabin without changing the flights. Cabin changes require the user to pay for the difference between their current cabin and the new cabin class. Cabin class must be the same across all the flights in the same reservation; changing cabin for just one flight segment is not possible."], "violating_examples": ["A reservation is updated with mixed cabin classes, such as economy and business, across different flights within the same reservation. This violates the policy requiring uniform cabin class.", "A user changes one flight to economy and another to basic economy within a reservation, failing the Cabin Uniformity Requirement that mandates the same cabin class for all flights."], "compliance_examples": ["A user updates a reservation so all flights are reassigned to economy class, ensuring uniform cabin class and complying with the policy.", "The reservation is modified to have all flights in business class, maintaining a consistent cabin class across the entire reservation as per the policy.", "Both flight segments in a round-trip reservation are changed to the same cabin class, such as economy, meeting the Cabin Uniformity Requirement."]}, {"policy_name": "Payment Method Requirement for Flight Changes", "description": "Whenever flights in a reservation are changed, ensure the user provides one valid gift card or credit card from their profile as the payment or refund method. Without this, flight changes cannot be processed.", "references": ["<p>Payment: If the flights are changed, the user needs to provide one gift card or credit card for payment or refund method. The agent should ask for the payment or refund method instead.</p>"], "violating_examples": ["A user attempts to change flights in a reservation without providing any valid payment information such as a gift card or credit card linked to their profile, which contravenes the policy.", "A flight update process begins with the user providing only a certificate as payment, despite the requirement for a gift card or credit card.", "Whilst trying to modify their flight itinerary, the user neglects to choose any valid payment method from their profile, which violates the mandatory payment method requirement.", "A user insists on using a payment method not linked to their profile, such as a friend's credit card, defying the policy's requirement for payment methods to be from the user's profile."], "compliance_examples": ["The user requests a flight change and provides a valid credit card from their profile, satisfying the policy requirement for payment method.", "Flight changes are applied after the user selects a valid gift card from their profile for payment, in line with the policy.", "Users update their flight details and use a valid credit card linked to their profile for payment, fully complying with the policy guidelines."]}, {"policy_name": "Flight Modification API Limitation Check", "description": "Agents must verify the following before using the Flight Modification API: Basic economy flights are unmodifiable. For other flight reservations, ensure that origin, destination, and trip type remain unchanged from the initial booking. Prices for flight segments retained stay at original rates, not updated by the API. Manual validation of segment prices is required.", "references": ["Change flights: Basic economy flights cannot be modified. Other reservations can be modified without changing the origin, destination, and trip type. Some flight segments can be kept, but their prices will not be updated based on the current price. The API does not check these for the agent, so the agent must make sure the rules apply before calling the API!"], "violating_examples": ["An agent attempts to use the Flight Modification API to change the cabin class of a reservation booked under 'basic_economy'. This violates the policy since 'basic_economy' flights are unmodifiable.", "The agent changes the origin from 'SFO' to 'LAX' in a reservation update, violating the policy as the origin must remain unchanged.", "Changing the destination from 'JFK' to 'BOS' during a reservation update violates the policy because the destination must remain unchanged.", "An agent updates a flight reservation from a 'round_trip' to a 'one_way' trip, violating the policy since the trip type cannot be altered.", "An agent uses the API to modify a flight reservation without manually verifying the prices of retained flight segments, violating the policy that requires agents to confirm original rates manually."], "compliance_examples": ["An agent updates a reservation by changing the flight times while preserving the original cabin class, origin, destination, and trip type, complying with the policy requirements.", "Update reservation flights with the same 'origin' and 'destination', ensuring no changes in basic structure, and manually verify segment prices, complying with the policy.", "The agent modifies a reservation by adding additional flight segments while original flight details, including trip type and destination, remain unchanged, adhering to the policy.", "Keeping the flight segments unchanged and manually verifying that the prices remain the same while modifying flights in a business cabin reservation complies with the policy.", "The agent updates a reservation to change seat preference while ensuring the origin, destination, and trip type are consistent with the initial booking, meeting policy criteria."]}, {"policy_name": "Consistency Across Flight Segments", "description": "When updating a reservation, all flight segments must be included in the list of flights provided, regardless of whether they have been altered or not.", "references": ["<p>Change flights: Basic economy flights cannot be modified. Other reservations can be modified without changing the origin, destination, and trip type. Some flight segments can be kept, but their prices will not be updated based on the current price. The API does not check these for the agent, so the agent must make sure the rules apply before calling the API!</p>"], "violating_examples": ["A user attempts to update their reservation but only includes the altered flight segment in the flights array, omitting the unchanged flight segments.", "An agent updates the reservation for a flight change but mistakenly excludes connecting segments that were part of the same trip, leading to an incomplete submission.", "During a reservation update involving a cabin class upgrade, the flights array only lists flights under the new cabin class, excluding previously booked ancillary services segments, violating the policy."], "compliance_examples": ["A user's round-trip reservation is successfully updated with all flights listed, including the unchanged return flight segment, adhering to the policy requirement.", "When modifying an itinerary, the agent ensures the flights array contains every flight segment from the original reservation, even those that were not changed, complying fully with the policy.", "A reservation update for altering the cabin class is processed correctly with all segments kept in the flights array to maintain consistency as per policy rules."]}], "archive": [{"policy_name": "Single Tool Call at a Time", "description": "The agent must ensure that only one tool function is being executed at any given moment and must refrain from interacting with the user while a tool function is active. This ensures clear execution of tasks and avoids any confusion or errors in tool operations.", "references": ["You should only make one tool call at a time, and if you make a tool call, you should not respond to the user simultaneously."], "comments": "The policy is relevant as it can be applied to ToolX by ensuring that only one API call is made at any time and the agent doesn't respond to users simultaneously. It can be validated by checking the workflow and tool invocation logs before ToolX is used. The policy applies across all tools, not specifically tailored to ToolX, hence it is not tool-specific. It is self-contained since all necessary information is included within the description itself. Score: 4. While the policy is clear, it lacks specificity toward ToolX operations.\nThe policy is relevant to ToolX because it applies to the agent's usage of all tools, including ToolX. It restricts making simultaneous tool calls and ensures synchronized operation, thereby preventing conflicts when updating or querying data. However, the policy is broad and not tool-specific since it applies to all tools the agent might use. It can be validated beforehand by ensuring that the agent's actions align with sequential tool calls. Despite being self-contained, the policy isn't directly actionable using ToolX's parameters since it requires monitoring and controlling the tool call flow externally to enforce effectively.\nThis policy is relevant to ToolX as it deals with usage constraints that affect how ToolX is invoked. The policy is not tool-specific; it applies to all tools used by the airline agent. The policy can be validated before invoking ToolX by ensuring that no other tool calls are in progress. However, while it provides a procedural guideline, it isn't inherently actionable solely through ToolX's capabilities or parameters as an external check is needed to confirm the absence of other ongoing tool calls. The policy's description lacks clarity and completeness without additional context, particularly detailing why such a restriction is necessary and how to enforce it in practice. The refined description provides a clearer and more complete version of the policy\u2019s intent.\nThis policy is relevant to ToolX ('update_reservation_flights') because it dictates how the agent should interact with any tool in terms of execution and user interaction, thus also applying when the 'update_reservation_flights' tool is used. While the policy is not specific to ToolX, it ensures proper sequential management of tool calls, which can be applied across all tools without needing changes in ToolX's parameters or functionality. The policy can be validated as it sets clear guidelines to only make one tool call at a time, avoiding any simultaneous user interaction. The description is self-contained, clear, and does not require additional context. A score of 4 is given because while the policy is actionable and clear, it could be enhanced by being more specific about types of interactions or scenarios where simultaneous calls might inadvertently occur.\n"}, {"policy_name": "Cancellation API Limitation Check", "description": "Before invoking the cancellation API, ensure compliance with cancellation rules: (1) cancel within 24 hours of booking or if the flight is canceled by the airline; (2) for basic/economy flights, ensure the user has travel insurance for cancellations outside these periods; (3) business flights can be canceled anytime without restrictions. Manually verify these rules as the API does not enforce them.", "references": ["Cancel flight: All reservations can be cancelled within 24 hours of booking, or if the airline cancelled the flight. Otherwise, basic economy or economy flights can be cancelled only if travel insurance is bought and the condition is met, and business flights can always be cancelled. The rules are strict regardless of the membership status. The API does not check these for the agent, so the agent must make sure the rules apply before calling the API!"], "comments": "The policy is not relevant to ToolX, as ToolX is concerned with updating reservations, not cancellations. This policy is general and applies to cancellation procedures, not specifically to any given tool. Given the description in the policy and reference, it also lacks clarity on how these rules should be validated before invoking the API, making it difficult to enforce with the provided parameters, chat history, and access. The alternative description provides clarity on checking rules before using a cancellation tool. It also emphasizes validating the conditions outlined for cancellations, making the policy self-contained.\nThe policy is relevant to the target ToolX 'update_reservation_flights' as it deals with conditions for cancellations, which could affect reservation updates. However, it is broadly applicable to any cancellation-related tool and not specifically tailored to this one tool. The policy can be validated by checking booking times and associated conditions before using the tool, ensuring it is actionable based on the user's profile data and reservation details. The alternative description aims to provide clearer instructions on validating the conditions outside the API functionality, making it self-contained without needing to reference other parts of the policy document.\nThe policy is not relevant to ToolX as it pertains to cancellation procedures, whereas ToolX is related to updating reservations. The policy is broad, not tailored specifically to ToolX, and actionable steps cannot be executed solely using ToolX\u2019s parameters. The policy can be validated manually before using any associated cancellation tool calls, confirming its conditions. While clarity is a strength, the policy lacks self-containment, requiring reference to other policy details to be fully understood. An alternative description is provided to ensure the policy is self-contained and clear when isolated from other policy documents or references.\n"}, {"policy_name": "Transfer to Human Agent for Used Flight Segments", "description": "This policy necessitates the transfer of a user to a human agent when any flight segments of their reservation have been flown because the update reservation tool cannot cancel or modify these segments.", "references": ["The agent can only cancel the whole trip that is not flown. If any of the segments are already used, the agent cannot help and transfer is needed."], "comments": "The policy described is relevant to the cancel reservation tool, but does not apply specifically to the update reservation tool (ToolX). It applies when a reservation includes segments that have already been used, indicating that the tool cannot handle such circumstances and a human agent intervention is necessary. ToolX handles flight updates, and while it requires whole reservations (including unchanged segments) to be modified, it does not deal with canceling flown segments as described in this policy. Thus, the policy is irrelevant for ToolX, cannot be validated before invoking it, and is not actionable within the scope of ToolX\u2019s functionalities. Additionally, the policy lacks specificity and context related to ToolX, thus not self-contained. A refined version tailored to ToolX is suggested. Score: 2.\nThe policy is relevant to ToolX as it dictates when a human agent transfer is necessary due to constraints on modifying flown flight segments. It is tool-specific because it directly addresses the limitations of the update reservation tool. Although these conditions can be verified by checking the flight status, the policy is not actionable, as the necessary transfer requires action beyond the tool's parameters. The description could benefit from clarification regarding the specific constraints that justify transferring actions, resulting in a need for a human agent. In conclusion, a more descriptive policy makes it clearer when tool limitations require human intervention. The score reflects the need for expanded clarity and actionability.\nScore: 3\nThe policy is indeed relevant to ToolX as it addresses limitations in modifying flown flight segments using the update reservation tool. It is specific to ToolX since it refers directly to its functionality. However, it cannot be validated before using ToolX because checking if any flight segment has been flown requires querying the reservation and flight statuses, which isn't part of ToolX's parameters or data access. The policy is not actionable by ToolX directly, as it mandates transferring the user to a human agent. The initial policy description lacked clarity on why transfer is required, thus wasn't self-contained; the proposed alternative description aims to rectify this omission by clarifying the reasoning behind the transfer needs.\n"}]}