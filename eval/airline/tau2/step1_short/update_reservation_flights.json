{"policies": [{"policy_name": "User Confirmation Before Action", "description": "Before taking any actions that update the booking database (such as modifying flights), you must list the action details and obtain explicit user confirmation (yes) to proceed.", "references": ["Before taking any actions that update the booking database (booking, modifying flights, editing baggage, upgrading cabin class, or updating passenger information), you must list the action details and obtain explicit user confirmation (yes) to proceed."], "iteration_added": 0, "violating_examples": ["A travel agent initiates an update to the reservation flights without requesting confirmation from the user. The system proceeds to modify the booking database with the new flight details.", "The system presents the flight modification details to the user but directly updates the reservation with new flight information without waiting for the user's confirmation.", "A user updates their reservation flights, and the application accidentally skips the confirmation step altogether, proceeding with changes to the booking database immediately.", "During the update of reservation flights, the system does not list the modifications and fails to ask the user for explicit confirmation before applying changes to the booking database.", "The system sends a notification email to the user after updating reservation flights without first verifying user confirmation during the in-app process."], "compliance_examples": ["An agent lists all updates to the reservation flights such as flight numbers, departure and arrival times in the summary. The system displays these details and asks the user, 'Do you confirm the changes to your flight reservation?' The user replies with 'yes', and then the system proceeds with the updates.", "Before modifying the flight details in a reservation, the application summarizes the planned updates (change in cabin class, flight numbers, dates) and explicitly asks the user, 'Please confirm with a yes to finalize your reservation flight updates.' The user sends 'yes' as a response, allowing the modifications to proceed.", "The system shows a detailed breakdown of the new flight itinerary including all segments that remain unchanged and asks for explicit consent from the user with a prompt: 'Type yes to confirm your flight reservation changes.' Upon receiving confirmation, changes are then applied.", "For a reservation flight update, the system outlines the changes in-flight segments, cabin class adjustments, and provides a confirmation button for the user labeled 'Confirm Changes'. The user selects 'Confirm Changes', allowing the transaction to proceed safely.", "The application presents a pop-up dialog detailing the proposed updates to the reservation flights, including the selected payment method ID, and requests a response with options 'Proceed' or 'Cancel'. The user clicks on 'Proceed', granting permission for updates to be made."]}, {"policy_name": "Basic Economy Flight Modification Restriction", "description": "Basic economy flights cannot be modified.", "references": ["Change flights: Basic economy flights cannot be modified."], "iteration_added": 0, "violating_examples": ["A user attempts to update the reservation with ID 'ZFA04Y' by changing the flight details while the cabin class remains 'basic_economy'. Regardless of the flight details provided, any modification on a basic economy flight is prohibited as per the policy.", "Trying to alter the flight segments of reservation 'ZFA04Y' that is booked under 'basic_economy' class for a new travel date using payment_id 'credit_card_123456'. Since it's still a basic economy booking, modifications are not allowed.", "User attempts to switch a 'basic_economy' reservation, 'ZFA04Y', to include additional flight segments in the itinerary, keeping the original flights intact but adding new ones. This violates the policy since basic economy bookings aren't modifiable.", "Updating the reservation cabin from 'basic_economy' to 'economy', while attempting to adjust flight details for reservation 'ZFA04Y'. The policy restricts any updates once a flight is initially booked as basic economy, preventing any change even if the cabin type is altered."], "compliance_examples": ["A user updates the flight details of reservation ID 'ZFA04Y' which was originally booked under cabin class 'economy'. The flights array includes all travel segments for the updated itinerary, adhering to the policy against changing basic economy bookings.", "Changing reservation ID 'ZFA04Y' with cabin class 'business', where all flight segments are listed appropriately, demonstrating compliance as the booking is not in 'basic_economy'.", "The reservation ID 'ZFA04Y' with flights in 'economy' cabin class is updated using payment_id 'gift_card_987654'. Since the cabin is not 'basic_economy', modifications to flight details are compliant with the policy.", "User modifies reservation 'ZFA04Y', originally booked in 'premium_economy', changing flight segments entirely and updating the itinerary. This action complies with the policy since 'basic_economy' restrictions don't apply."]}, {"policy_name": "No Simultaneous Tool Calls and User Responses", "description": "You should only make one tool call at a time, and if you make a tool call, you should not respond to the user simultaneously.", "references": ["You should only make one tool call at a time, and if you make a tool call, you should not respond to the user simultaneously."], "iteration_added": 0, "violating_examples": ["While updating the reservation flights using the 'update_reservation_flights' tool, a message is simultaneously sent to the user stating 'Your reservation is being updated'.", "The system attempts to update reservation flights and at the same time sends a confirmation email to the user without waiting for the tool call process to complete.", "A request to update reservation flights is made, and instead of waiting for the tool call to process, the user receives an immediate SMS alert that their reservation details are being processed upfront.", "The tool 'update_reservation_flights' is called while another separate tool call is made to 'get_reservation_details', defying the single tool call policy.", "The user receives both a chatbot message asking if any further assistance is needed and simultaneously, the 'update_reservation_flights' tool is triggered."], "compliance_examples": ["The system initiates a tool call to 'update_reservation_flights', waits for the process to be completed, and only then sends a notification email to the user confirming the reservation has been updated.", "A user requests a reservation update where the system confirms completion via 'update_reservation_flights' tool before providing any follow-up interface prompts.", "The chatbot exclusively makes a call to 'update_reservation_flights' and once this process finishes, it subsequently messages the user to update them with the new reservation details and next steps.", "A process starts with updating reservation flights using the 'update_reservation_flights' tool call, and only after it succeeds is a user notification sent explaining the changes made.", "After the 'update_reservation_flights' tool has completed the call and the reservation is updated, a friendly alert message is then sent to the user mentioning the updated itinerary."]}, {"policy_name": "Ensure Flights Are Not Booked", "description": "If the flight status is delayed, on time, or flying, the flight cannot be booked.", "references": ["If the status is \"delayed\" or \"on time\", the flight has not taken off, cannot be booked.", "If the status is \"flying\", the flight has taken off but not landed, cannot be booked."], "iteration_added": 0, "violating_examples": ["A user tries to update their reservation flights and includes a flight with status 'delayed'. According to the policy, since the status is 'delayed', the flight cannot be booked.", "A reservation update attempt includes a flight object where the status is recorded as 'on time', which violates the policy because flights with 'on time' status cannot be booked.", "The user updates their reservation flights and includes a flight marked as 'flying'. This violates the policy because flights currently 'flying' cannot be booked as they are already in the air."], "compliance_examples": ["A user successfully updates their reservation with flights whose status is 'landed', ensuring 'cannot be booked' policy is adhered to, since these flights are fully completed.", "The user updates the reservation and includes flights with status 'scheduled', compliant with the policy, as these flights have not departed yet, making them eligible for booking.", "A successful reservation update includes flights marked as 'canceled', adhering to the policy since canceled flights can be unbooked or rebooked without status violation."]}, {"policy_name": "Payment Method Validation", "description": "If the flights are changed, the user needs to provide one gift card or credit card for payment or refund method. Payment methods must already be in user profile for safety reasons.", "references": ["Payment: If the flights are changed, the user needs to provide one gift card or credit card for payment or refund method.", "All payment methods must already be in user profile for safety reasons."], "iteration_added": 0, "violating_examples": ["A user attempts to update a reservation with changed flights and provides a payment ID corresponding to a certificate, despite the policy requiring a gift card or credit card.", "A reservation is updated by changing flights, but the user inputs a payment ID that is not stored in their profile, contradicting the safety requirement of pre-existing payment methods.", "A user changes flight segments in a reservation update without specifying any payment ID, violating the necessity of a gift card or credit card for processing payment or refund."], "compliance_examples": ["A user updates flight segments in a reservation and provides a payment ID corresponding to a gift card that is already stored in their user profile, adhering to the policy's requirements.", "Upon changing flights in a reservation update, the user specifies a payment ID for a credit card that is listed in their profile, complying with the need for a proper payment method.", "A user modifies the flight portions of a reservation and uses a payment ID linked to a credit card present in their profile, ensuring smooth processing as per the policy guidelines."]}, {"policy_name": "Cabin Change Rules", "description": "Cabin changes require the user to pay for the difference between their current cabin and the new cabin class. Cabin class must be the same across all the flights in the same reservation; changing cabin for just one flight segment is not possible.", "references": ["Change cabin: all reservations, including basic economy, can change cabin without changing the flights. Cabin changes require the user to pay for the difference between their current cabin and the new cabin class. Cabin class must be the same across all the flights in the same reservation; changing cabin for just one flight segment is not possible."], "iteration_added": 0, "violating_examples": ["A user attempts to update the reservation and changes the cabin class to 'business' for one flight segment while keeping the cabin class as 'economy' for the other segments in the same reservation.", "The user updates the reservation to change the cabin class from 'basic_economy' to 'economy' but only does this for their outbound flight instead of all flights within the reservation.", "A user requests to upgrade only one segment of their trip from 'economy' to 'business', thus having two different cabin classes within a single reservation.", "The reservation update request fails because the user tried to change the cabin class for their return flight only, leaving the outbound flight unchanged."], "compliance_examples": ["The user successfully updates their reservation to switch the cabin class from 'economy' to 'business' for all flight segments within the reservation, ensuring consistency across the entire journey.", "A reservation is modified to upgrade the cabin class from 'basic_economy' to 'economy' for every flight segment, each segment now has the same upgraded cabin class.", "The user transitions from 'business' to 'economy' across all flights in the reservation, and pays the fee necessary for the cabin class change.", "Each flight segment is uniformly updated from 'economy' to 'basic_economy' throughout the reservation, following the policy for consistent cabin class change."]}]}